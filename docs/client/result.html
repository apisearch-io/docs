<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Result</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Apisearch client - Result object">
    <meta name="author" content="Apisearch team">
    <meta name="keywords" content="Apisearch, Elasticsearch search engine, fast search demo, Apisearch official website">

    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="57x57" href="http://apisearch.io/public/images/favicons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="http://apisearch.io/public/images/favicons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="http://apisearch.io/public/images/favicons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="http://apisearch.io/public/images/favicons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="http://apisearch.io/public/images/favicons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="http://apisearch.io/public/images/favicons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="http://apisearch.io/public/images/favicons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="http://apisearch.io/public/images/favicons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="http://apisearch.io/public/images/favicons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="http://apisearch.io/public/images/favicons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="http://apisearch.io/public/images/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="http://apisearch.io/public/images/favicons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="http://apisearch.io/public/images/favicons/favicon-16x16.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="http://apisearch.io/public/images/favicons/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <!-- Styles -->
    <link rel="stylesheet" href="./../assets/css/docs.css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
          rel="stylesheet"
          integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN"
          crossorigin="anonymous"
    ></head>
<body>
<!-- Header -->
<header>
    <nav class="c-navbar navbar navbar-expand-md fixed-top">
        <div class="c-navbar__main row">
            <!-- Brand -->
            <div class="c-navbar__brandWrapper col-2 col-sm-4 col-md-3 col-lg-2">
                <a class="c-navbar__brand navbar-brand" href="#">
                    <img src="http://apisearch.io/public/images/favicons/favicon-32x32.png"
                         class="d-inline-block align-top"
                         alt="Apisearch logo">
                    <img src="http://apisearch.io/public/images/logo-.png"
                         class="d-none d-sm-inline-block"
                         height="15"
                         alt="Logo Apisearch">
                </a>
            </div>
            <!-- /Brand -->

            <!-- Search -->
            <div class="c-search col-8 col-sm-8 col-md-9 col-lg-10 ml-md-auto">
                <i class="c-search__searchIcon fa fa-search"
                   aria-hidden="true"></i>

                <!-- Apisearch target -->
                <div class="c-search__wrapper" id="searchInput"></div>
            </div>
            <!-- /Search -->

            <!-- Menu burger -->
            <div class="col-2 d-sm-none">
                <button class="c-navbar__burger navbar-toggler">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         id="burgerSidebarMenu"
                         viewBox="0 0 30 30"
                         width="30"
                         height="30"
                         focusable="false"
                    >
                        <title>Menu</title>
                        <path stroke="#54edc0"
                              stroke-width="2"
                              stroke-linecap="round"
                              stroke-miterlimit="10"
                              d="M4 7h22M4 15h22M4 23h22"
                        ></path>
                    </svg>
                </button>
            </div>
            <!-- /Menu burger -->
        </div>
    </nav>

    <!-- breadcrumb -->
    <nav class="c-breadcrumb" aria-label="breadcrumb" role="navigation">
        <ol class="c-breadcrumb__list breadcrumb">
            <li class="c-breadcrumb__item breadcrumb-item"><a href="#">Apisearch</a></li>
            <li class="c-breadcrumb__item breadcrumb-item"><a href="#">Client</a></li>
            <li class="c-breadcrumb__item--active breadcrumb-item active" aria-current="page">PHP</li>
        </ol>
    </nav>
    <!-- /breadcrumb -->
</header><!-- /Header -->

<!-- Search result -->
<div id="searchResult" class="c-search__searchResult d-none">
    <div class="container">
        <div class="row">
            <div class="col-sm-6 mb-4">
                <div class="c-search__searchResultBlock">
                    <!-- Topics -->
                    <h1 class="c-search__searchResultTitle">
                        <i class="fa fa-commenting" aria-hidden="true"></i>
                        Topics
                    </h1>

                    <ul id="topicsSearchResult"></ul>
                </div>
            </div>
            <div class="col-sm-6 mb-4">
                <div class="c-search__searchResultBlock">
                    <!-- Content -->
                    <h1 class="c-search__searchResultTitle">
                        <i class="fa fa-align-left" aria-hidden="true"></i>
                        Content
                    </h1>

                    <ul id="contentSearchResult"></ul>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12">
                <!-- Code examples -->
                <div class="c-search__searchResultBlock">
                    <h1 class="c-search__searchResultTitle">
                        <i class="fa fa-code" aria-hidden="true"></i>
                        Code examples
                    </h1>

                    <ul id="codeExamplesSearchResult"></ul>
                </div>
            </div>
        </div>
    </div>
</div><!-- /Search result -->

<!-- Main -->
<div class="container-fluid">
    <div class="row">
        <!-- Sidebar -->
        <div id="sidebarMenu"
             class="c-sidebar sidebar col-sm-4 col-md-3 col-lg-2 d-none d-sm-block"
        >
            <ul class="c-sidebar__nav nav nav-pills flex-column">
                            <li class="c-sidebar__navItem nav-item">
                                <a class="c-sidebar__navLink c-sidebar__navLink--title nav-link"
                                   href="/docs/index.html"
                                >
                                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                                    Hello
                                </a>
                            </li>
                            <li class="c-sidebar__navItem nav-item">
                                <a class="c-sidebar__navLink c-sidebar__navLink--title nav-link"
                                   href="/docs/style-guide.html"
                                >
                                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                                    Style guide
                                </a>
                            </li>
        
        
                        <li class="c-sidebar__navItem nav-item">
                            <a class="c-sidebar__navLink c-sidebar__navLink--title nav-link"
                               href="#"
                            >
                                <i class="fa fa-angle-right" aria-hidden="true"></i>
                                UI
                            </a>
                        </li>
                        <ul class="c-sidebar__nav c-sidebar__nav--sub-1 nav nav-pills flex-column">
                                <li class="c-sidebar__navItem--sub-1 nav-item">
                                    <a class="c-sidebar__navLink c-sidebar__navLink--subtitle nav-link"
                                       href="/docs/ui/overview.html">
                                        Installation
                                    </a>
                                </li>
                                <li class="c-sidebar__navItem--sub-1 nav-item">
                                    <a class="c-sidebar__navLink c-sidebar__navLink--subtitle nav-link"
                                       href="/docs/ui/widgets.html">
                                        Widgets
                                    </a>
                                </li>
                        </ul>
        
                        <li class="c-sidebar__navItem nav-item">
                            <a class="c-sidebar__navLink c-sidebar__navLink--title nav-link"
                               href="#"
                            >
                                <i class="fa fa-angle-right" aria-hidden="true"></i>
                                Integrations
                            </a>
                        </li>
                        <ul class="c-sidebar__nav c-sidebar__nav--sub-1 nav nav-pills flex-column">
                                <li class="c-sidebar__navItem--sub-1 nav-item">
                                    <a class="c-sidebar__navLink c-sidebar__navLink--subtitle nav-link"
                                       href="/docs/integration/symfony-apisearch-bundle.html">
                                        Symfony - Apisearch Bundle
                                    </a>
                                </li>
                        </ul>
        
                        <li class="c-sidebar__navItem nav-item">
                            <a class="c-sidebar__navLink c-sidebar__navLink--title nav-link"
                               href="#"
                            >
                                <i class="fa fa-angle-right" aria-hidden="true"></i>
                                Fresh start
                            </a>
                        </li>
                        <ul class="c-sidebar__nav c-sidebar__nav--sub-1 nav nav-pills flex-column">
                                <li class="c-sidebar__navItem--sub-1 nav-item">
                                    <a class="c-sidebar__navLink c-sidebar__navLink--subtitle nav-link"
                                       href="/docs/fresh-start/first-steps.html">
                                        First steps
                                    </a>
                                </li>
                        </ul>
        
                        <li class="c-sidebar__navItem nav-item">
                            <a class="c-sidebar__navLink c-sidebar__navLink--title nav-link"
                               href="#"
                            >
                                <i class="fa fa-angle-right" aria-hidden="true"></i>
                                Client
                            </a>
                        </li>
                        <ul class="c-sidebar__nav c-sidebar__nav--sub-1 nav nav-pills flex-column">
                                <li class="c-sidebar__navItem--sub-1 nav-item">
                                    <a class="c-sidebar__navLink c-sidebar__navLink--subtitle nav-link"
                                       href="/docs/client/index.html">
                                        Index
                                    </a>
                                </li>
                                <li class="c-sidebar__navItem--sub-1 nav-item">
                                    <a class="c-sidebar__navLink c-sidebar__navLink--subtitle nav-link"
                                       href="/docs/client/model.html">
                                        Model
                                    </a>
                                </li>
                                <li class="c-sidebar__navItem--sub-1 nav-item">
                                    <a class="c-sidebar__navLink c-sidebar__navLink--subtitle nav-link"
                                       href="/docs/client/query.html">
                                        Query
                                    </a>
                                </li>
                                <li class="c-sidebar__navItem--sub-1 nav-item">
                                    <a class="c-sidebar__navLink c-sidebar__navLink--subtitle nav-link"
                                       href="/docs/client/result.html">
                                        Result
                                    </a>
                                </li>
                                <li class="c-sidebar__navItem--sub-1 nav-item">
                                    <a class="c-sidebar__navLink c-sidebar__navLink--subtitle nav-link"
                                       href="/docs/client/repository.html">
                                        Repository
                                    </a>
                                </li>
                                <li class="c-sidebar__navItem--sub-1 nav-item">
                                    <a class="c-sidebar__navLink c-sidebar__navLink--subtitle nav-link"
                                       href="/docs/client/event.html">
                                        Event
                                    </a>
                                </li>
                        </ul>
            </ul>
        </div>        <!-- Sidebar -->

        <!-- Main -->
        <main class="col-sm-8 col-md-9 col-lg-10 ml-sm-auto pt-3" role="main">
            <section class="c-content">
                <!-- Content -->
                <h1>Result</h1>
<p>A Query instance creates a Result instance. A Result is not only a set of basic
elements from our dataset (Product, Category…) but as well a set of
aggregations, result of our filters.</p>
<pre><code class="language-php">$result = $repository-&gt;query($query);
</code></pre>
<p>You can retrieve as well all elements in a single array, respecting the order
defined by the Query.</p>
<pre><code class="language-php">$results = $result-&gt;getItems();
</code></pre>
<p>If you queried by a UUID, for example, or even in any query, you can easily
retrieve the first (and more useful when is the only expected) result by using
this method</p>
<pre><code class="language-php">$results = $result-&gt;getFirstItem();
</code></pre>
<p>Each of these methods will return an array of hydrated instances of our model (
not yours. If you want your model instances, you need to create manual
transformers.</p>
<p>The Result instance have some other interesting methods to retrieve some extra
information of your data set.</p>
<ul>
<li>getTotalElements() - get the total items in your universe. If you don’t have
applied any universe filter, then you will have all of them. Otherwise, you will
have the number of elements in your universe.</li>
<li>getTotalHits() - get the total hits produced by your query. This is not the
number of Items you have in your Result object, but the Items you can reach in
total by paginating along the result hits.</li>
</ul>
<h2>Reading Aggregations</h2>
<p>The other important part of the Result object is the Aggregation set. In order
to iterate over all Aggregations you can make a simple foreach over the result
of the <code>-&gt;getAggregations()</code> result (returns an implementation of the PHP
interface Traversable). You can access directly to an aggregation by using the
<code>-&gt;getAggregation($name)</code> method and the aggregation assigned name.</p>
<p>Let’s analyze what a result Aggregation instance is and how useful can be in our
filtering application.</p>
<ul>
<li>-&gt;getName() - The name of the aggregation. For example, when we create the
manufacturer filter, we create a new aggregation called manufacturers. This is
the used name.</li>
<li>-&gt;getCounters() - This method return an array of Counter instances. Explained
later, but as a TL;DR, this is an object where each option returned by the
aggregation (in the last example, each manufacturer available for filtering) has
the information like totals.</li>
<li>-&gt;isFilter() - The applied filter application type is an exclusive one, like
MUST_ALL*</li>
<li>-&gt;hasLevels() - The applied filter application type is a leveled one, like
MUST_ALL_WITH_LEVELS</li>
<li>-&gt;getTotalElements - Total elements of the aggregation.</li>
<li>-&gt;getActiveElements - Array of all the elements active (all elements passed
through the filter). Each active element is defined as a counter as well.</li>
<li>-&gt;sortByName() - Sort all counters by its name. This method has only internal
effects and no result is provided</li>
</ul>
<h2>Aggregation Counter</h2>
<p>Each aggregation, mainly, is composed by a name and a set of counters. Each one
has these methods.</p>
<ul>
<li>-&gt;getId() - Id of the counter</li>
<li>-&gt;getName() - Name of the counter. You might want to print this value after a
possible translation (for example for tags).</li>
<li>-&gt;getLevel() - Useful for leveled filters. In that case, each counter (for
example, each returned available category will have the level). By default, 1.</li>
<li>-&gt;isUsed() - Does this counter belongs to an active element?</li>
<li>-&gt;getN() - Number of results in your database having this element (for
example, number of item with the category Adidas). This is the number
commonly printed in your app.</li>
</ul>
<pre><code><span class="hljs-selector-attr">[x]</span> <span class="hljs-selector-tag">Rebook</span> (<span class="hljs-number">73</span>)
<span class="hljs-selector-attr">[x]</span> <span class="hljs-selector-tag">Nike</span> (<span class="hljs-number">12</span>)
<span class="hljs-selector-attr">[ ]</span> <span class="hljs-selector-tag">Adidas</span> (<span class="hljs-number">34</span>)
</code></pre>
<p>This is all you need to know about the Result objects. This objects architecture
will allow you to print all the final information for your final user.</p>
<h2>Reading Suggestions</h2>
<p>If your query had the suggests enabled, then you will find some suggestions in
your Result instance by using the getter method.</p>
<pre><code class="language-php">$suggests = $result-&gt;getSuggests();
</code></pre>
<p>Each suggest is defined as an array of non unique strings.</p>

                <!-- /Content -->

                <hr>
                <a class="c-content__editOnGithub"
                   target="_blank"
                   href="https://github.com/apisearch-io/docs/tree/master/src/content/client/result.md">
                    <i class="fa fa-github" aria-hidden="true"></i>
                    Edit this page!
                </a>
            </section>
        </main>
        <!-- /Main -->

        <!-- Toc here -->
        <!-- End toc -->

        <!-- Footer -->
        <!-- /Footer -->
    </div>
</div>
<!-- /Main -->

<!-- Go up -->
<a id="goUpButton"
   class="c-goUp d-none fa fa-thumbs-o-up"
   href="#"
   aria-hidden="true"
></a>
<!-- /Go up -->

<!-- Scripts -->
<script src="./../assets/js/app.js"></script>
</body>
</html>